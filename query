PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX crmdig: <http://www.ics.forth.gr/isl/CRMdig/>
PREFIX custom: <https://pharos.artresearch.net/custom/>
CONSTRUCT {  ?s custom:has_image ?image } WHERE {
  {
    ?s <https://pharos.artresearch.net/custom/has_provider> <https://pharos.artresearch.net/resource/zeri/source/Zeri>.
    ?s <http://www.cidoc-crm.org/cidoc-crm/P138i_is_represented_by> ?visual_item.
    ?visual_item <http://www.cidoc-crm.org/cidoc-crm/P128i_is_carried_by> ?photo.
    ?photo <http://www.cidoc-crm.org/cidoc-crm/P129i_is_subject_of>  ?image.
    ?image <http://www.cidoc-crm.org/cidoc-crm/P2_has_type> <https://pharos.artresearch.net/resource/zeri/type/SOPP167C>
  } 
  UNION {
    ?s <https://pharos.artresearch.net/custom/has_provider> <https://pharos.artresearch.net/resource/itatti/source/SharedShelf>.
    ?s <http://www.cidoc-crm.org/cidoc-crm/P138i_is_represented_by> ?visual_item.
    ?visual_item <http://www.cidoc-crm.org/cidoc-crm/P128i_is_carried_by> ?photo.
    ?photo <http://www.cidoc-crm.org/cidoc-crm/P129i_is_subject_of>  ?image.
    ?image <http://www.cidoc-crm.org/cidoc-crm/P2_has_type> <https://pharos.artresearch.net/resource/itatti/type/SOPP167C>
  } 
  UNION {
    ?s <https://pharos.artresearch.net/custom/has_provider> <https://pharos.artresearch.net/resource/itatti/source/ITatti>.
    ?s <http://www.cidoc-crm.org/cidoc-crm/P138i_is_represented_by> ?visual_item.
    ?visual_item <http://www.cidoc-crm.org/cidoc-crm/P128i_is_carried_by> ?photo.
    ?photo <http://www.cidoc-crm.org/cidoc-crm/P129i_is_subject_of>  ?image.
    ?image <http://www.cidoc-crm.org/cidoc-crm/P2_has_type> <https://pharos.artresearch.net/resource/itatti/type/SOPP167C>
  }
} LIMIT 10000
